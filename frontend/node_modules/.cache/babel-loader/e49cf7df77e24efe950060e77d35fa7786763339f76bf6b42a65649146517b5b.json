{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\keyce\\\\XandNet Project\\\\XandTube\\\\frontend\\\\src\\\\pages\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport VideoGrid from '../components/VideoGrid';\nimport DownloadCard from '../components/DownloadCard';\nimport { videosAPI, downloadsAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomeContainer = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 20px;\n`;\n_c = HomeContainer;\nconst SearchInfo = styled.div`\n  margin-bottom: 20px;\n  padding: 16px;\n  background-color: #2d2d2d;\n  border-radius: 8px;\n  border-left: 4px solid #ff0000;\n`;\n_c2 = SearchInfo;\nconst SearchTitle = styled.h2`\n  color: #fff;\n  font-size: 20px;\n  margin-bottom: 8px;\n`;\n_c3 = SearchTitle;\nconst SearchQuery = styled.span`\n  color: #ff0000;\n  font-weight: 500;\n`;\n_c4 = SearchQuery;\nconst LoadMoreButton = styled.button`\n  display: block;\n  margin: 40px auto;\n  padding: 12px 24px;\n  background-color: transparent;\n  border: 1px solid #303030;\n  border-radius: 2px;\n  color: #aaa;\n  font-size: 14px;\n  cursor: pointer;\n  transition: all 0.2s;\n  \n  &:hover {\n    background-color: #3d3d3d;\n    color: #fff;\n    border-color: #aaa;\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n_c5 = LoadMoreButton;\nfunction HomePage() {\n  _s();\n  const [searchParams] = useSearchParams();\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [hasMore, setHasMore] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const searchQuery = searchParams.get('search');\n  useEffect(() => {\n    loadVideos();\n  }, [searchQuery]);\n  const loadVideos = async (offset = 0) => {\n    try {\n      if (offset === 0) {\n        setLoading(true);\n        setError(null);\n      } else {\n        setLoadingMore(true);\n      }\n      const params = {\n        limit: 20,\n        offset\n      };\n      if (searchQuery) {\n        params.search = searchQuery;\n      }\n      const response = await videosAPI.getAll(params);\n      const newVideos = response.data.videos;\n      if (offset === 0) {\n        setVideos(newVideos);\n      } else {\n        setVideos(prev => [...prev, ...newVideos]);\n      }\n      setHasMore(response.data.hasMore);\n    } catch (err) {\n      console.error('Erro ao carregar vídeos:', err);\n      setError('Erro ao carregar vídeos. Verifique se o backend está funcionando.');\n    } finally {\n      setLoading(false);\n      setLoadingMore(false);\n    }\n  };\n  const handleLoadMore = () => {\n    if (!loadingMore && hasMore) {\n      loadVideos(videos.length);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(HomeContainer, {\n    children: [searchQuery && /*#__PURE__*/_jsxDEV(SearchInfo, {\n      children: [/*#__PURE__*/_jsxDEV(SearchTitle, {\n        children: [\"Resultados da busca por: \", /*#__PURE__*/_jsxDEV(SearchQuery, {\n          children: [\"\\\"\", searchQuery, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), !loading && videos.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#aaa',\n          margin: 0\n        },\n        children: [videos.length, \" v\\xEDdeo\", videos.length !== 1 ? 's' : '', \" encontrado\", videos.length !== 1 ? 's' : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(VideoGrid, {\n      videos: videos,\n      loading: loading,\n      error: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), hasMore && /*#__PURE__*/_jsxDEV(LoadMoreButton, {\n      onClick: handleLoadMore,\n      disabled: loadingMore,\n      children: loadingMore ? 'Carregando...' : 'Carregar mais vídeos'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"94cH35Hi3yiae2l6p9sseQDEChw=\", false, function () {\n  return [useSearchParams];\n});\n_c6 = HomePage;\nexport default HomePage;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"HomeContainer\");\n$RefreshReg$(_c2, \"SearchInfo\");\n$RefreshReg$(_c3, \"SearchTitle\");\n$RefreshReg$(_c4, \"SearchQuery\");\n$RefreshReg$(_c5, \"LoadMoreButton\");\n$RefreshReg$(_c6, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","styled","VideoGrid","DownloadCard","videosAPI","downloadsAPI","jsxDEV","_jsxDEV","HomeContainer","div","_c","SearchInfo","_c2","SearchTitle","h2","_c3","SearchQuery","span","_c4","LoadMoreButton","button","_c5","HomePage","_s","searchParams","videos","setVideos","loading","setLoading","error","setError","hasMore","setHasMore","loadingMore","setLoadingMore","searchQuery","get","loadVideos","offset","params","limit","search","response","getAll","newVideos","data","prev","err","console","handleLoadMore","length","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","margin","onClick","disabled","_c6","$RefreshReg$"],"sources":["C:/Users/keyce/XandNet Project/XandTube/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport VideoGrid from '../components/VideoGrid';\r\nimport DownloadCard from '../components/DownloadCard';\r\nimport { videosAPI, downloadsAPI } from '../services/api';\r\n\r\nconst HomeContainer = styled.div`\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n`;\r\n\r\nconst SearchInfo = styled.div`\r\n  margin-bottom: 20px;\r\n  padding: 16px;\r\n  background-color: #2d2d2d;\r\n  border-radius: 8px;\r\n  border-left: 4px solid #ff0000;\r\n`;\r\n\r\nconst SearchTitle = styled.h2`\r\n  color: #fff;\r\n  font-size: 20px;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst SearchQuery = styled.span`\r\n  color: #ff0000;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst LoadMoreButton = styled.button`\r\n  display: block;\r\n  margin: 40px auto;\r\n  padding: 12px 24px;\r\n  background-color: transparent;\r\n  border: 1px solid #303030;\r\n  border-radius: 2px;\r\n  color: #aaa;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  \r\n  &:hover {\r\n    background-color: #3d3d3d;\r\n    color: #fff;\r\n    border-color: #aaa;\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nfunction HomePage() {\r\n  const [searchParams] = useSearchParams();\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n\r\n  const searchQuery = searchParams.get('search');\r\n\r\n  useEffect(() => {\r\n    loadVideos();\r\n  }, [searchQuery]);\r\n\r\n  const loadVideos = async (offset = 0) => {\r\n    try {\r\n      if (offset === 0) {\r\n        setLoading(true);\r\n        setError(null);\r\n      } else {\r\n        setLoadingMore(true);\r\n      }\r\n\r\n      const params = {\r\n        limit: 20,\r\n        offset\r\n      };\r\n\r\n      if (searchQuery) {\r\n        params.search = searchQuery;\r\n      }\r\n\r\n      const response = await videosAPI.getAll(params);\r\n      const newVideos = response.data.videos;\r\n\r\n      if (offset === 0) {\r\n        setVideos(newVideos);\r\n      } else {\r\n        setVideos(prev => [...prev, ...newVideos]);\r\n      }\r\n\r\n      setHasMore(response.data.hasMore);\r\n    } catch (err) {\r\n      console.error('Erro ao carregar vídeos:', err);\r\n      setError('Erro ao carregar vídeos. Verifique se o backend está funcionando.');\r\n    } finally {\r\n      setLoading(false);\r\n      setLoadingMore(false);\r\n    }\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    if (!loadingMore && hasMore) {\r\n      loadVideos(videos.length);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <HomeContainer>\r\n      {searchQuery && (\r\n        <SearchInfo>\r\n          <SearchTitle>\r\n            Resultados da busca por: <SearchQuery>\"{searchQuery}\"</SearchQuery>\r\n          </SearchTitle>\r\n          {!loading && videos.length > 0 && (\r\n            <p style={{ color: '#aaa', margin: 0 }}>\r\n              {videos.length} vídeo{videos.length !== 1 ? 's' : ''} encontrado{videos.length !== 1 ? 's' : ''}\r\n            </p>\r\n          )}\r\n        </SearchInfo>\r\n      )}\r\n\r\n      <VideoGrid \r\n        videos={videos} \r\n        loading={loading} \r\n        error={error} \r\n      />\r\n\r\n      {hasMore && (\r\n        <LoadMoreButton \r\n          onClick={handleLoadMore} \r\n          disabled={loadingMore}\r\n        >\r\n          {loadingMore ? 'Carregando...' : 'Carregar mais vídeos'}\r\n        </LoadMoreButton>\r\n      )}\r\n    </HomeContainer>\r\n  );\r\n}\r\n\r\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}